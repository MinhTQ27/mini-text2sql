Metadata-Version: 2.4
Name: mini-text2sql
Version: 0.1
Summary: A project for learning tech
Author: MinhTQ27
License: MIT License
        
        Copyright (c) 2025 MinhTQ27
        
        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:
        
        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.
        
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
        
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: flask>=3.1
Requires-Dist: python-dotenv==1.2.1
Requires-Dist: psycopg==3.3.2
Requires-Dist: openai==2.15.0
Requires-Dist: Flask-SQLAlchemy==3.1.1
Requires-Dist: SQLAlchemy==2.0.45
Requires-Dist: requests==2.32.5
Dynamic: license-file

# mini-text2sql

docker exec -it postgres_db bash

pg_restore -U postgres --dbname=postgres --host=localhost --port=5432 --username=postgres --password --verbose /home/gnoseau/code/mini-text2sql/src/pgdata/*.tar

psql -U postgres --dbname=postgres --host=localhost --port=5432 --username=postgres --password -f /home/gnoseau/code/mini-text2sql/src/*.sql

Create a pgdata folder and place a tar file inside 

có thể làm file bash để tự động chạy service và restore dữ liệu vào postgres

có thể encapsulate mật khẩu, username trong docker compose bằng biến của bash script 

<!-- using REST api -->

<!-- Nếu muốn container postgres tự động restore dữ liệu: tạo một file bash script 

#!/bin/bash

# Đợi cho PostgreSQL khởi động trước khi chạy lệnh pg_restore
until pg_isready -U postgres; do
  echo "Waiting for PostgreSQL to become available..."
  sleep 2
done

# Phục hồi dữ liệu từ backup.tar vào database mydb
pg_restore -U postgres -d mydb /docker-entrypoint-initdb.d/backup.tar

# Giữ container chạy
tail -f /dev/null -->
